{% extends "base/base.html" %} {% block styles %}
<style type="text/css">
    hr {
        margin-top: 10px;
        margin-bottom: 10px
    }
</style>
{% endblock %} {% block script %}
<script type="text/javascript">
    function showLoadModal() {
        $("#modalButton").click();
    }
</script>
{% endblock %} {% block content %}

<div class="col-md-8 col-md-offset-2">
    <div class="panel panel-white">
        <div class="panel-heading clearfix">
            <h4 class="panel-title">{{title}}</h4>
        </div>
        <div class="panel-body">
            <form action="" method="POST" class="form-horizontal" enctype="multipart/form-data">
                {{ form.hidden_tag() }}
                <div class="form-group">
                    {{ form.title.label(class_='col-sm-2 control-label') }}
                    <div class="col-sm-10">
                        {{ form.title(size=60, class_='form-control') }} {% for error in form.title.errors %}
                        <span style="color: red;">[{{ error }}]</span> {% endfor %}
                    </div>
                </div>
                <div class="form-group">
                    {{ form.body.label(class_='col-sm-2 control-label') }}
                    <div class="col-sm-10">
                        {{ form.body(cols=50, rows=4, class_='form-control') }} {% for error in form.body.errors %}
                        <span style="color: red;">[{{ error }}]</span> {% endfor %}
                    </div>

                </div>
                <div class="form-group">
                    {{ form.price.label(class_='col-sm-2 control-label') }}
                    <div class="col-sm-10">
                        {{ form.price(size=10, class_='form-control') }} {% for error in form.price.errors %}
                        <span style="color: red;">[{{ error }}]</span> {% endfor %}
                    </div>
                </div>
                <div class="form-group">
                    {{ form.endTime.label(class_='col-sm-2 control-label') }}
                    <div class="col-sm-10">
                        <div class="input-group date" id="datetimepicker1">
                            {{ form.endTime(class_='form-control date-picker') }} {% for error in form.endTime.errors %}
                            <span style="color: red;">[{{ error }}]</span> {% endfor %}
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                        <script type="text/javascript">
                            $(function() {
                                $('#datetimepicker1').datetimepicker({
                                    locale: 'zh-cn'
                                });
                            });
                        </script>
                    </div>
                </div>
                <div class="form-group">
                    {{ form.resfile.label(class_='col-sm-2 control-label') }}
                    <div class="col-sm-10">
                        {{ form.resfile(class_='form-control') }} 
                        {% for error in form.resfile.errors %}
                        <span style="color: red;">[{{ error }}]</span> 
                        {% endfor %}
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-10 col-sm-offset-2">
                        {{ form.submit(class_="btn btn-primary", onclick="showLoadModal();") }}
                    </div>
                </div>
                <button style="display: none;" id="modalButton" data-toggle="modal" data-target=".bs-example-modal-sm"></button>
                <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false" style="display: none;">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <!-- <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                                <h4 class="modal-title" id="mySmallModalLabel">Modal title</h4>
                            </div> -->
                            <div class="modal-body" style="padding-top: 10px; padding-bottom: 10px;">
                                <div class="text-center" id="donateLoading" style="margin-top: 10px; margin-bottom: 5px;">
                                    <div class="spinner-border" role="status">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                </div>
                                <div class="text-center" style="margin-top: 5px; margin-bottom: 10px;">
                                    <span>正在写入区块链中......</span>
                                </div>
                            </div>
                            <!-- <div class="modal-footer">
                                <button type="button" class="btn btn-success" data-dismiss="modal">Close</button>
                            </div> -->
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

{% endblock %}